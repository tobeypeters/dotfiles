I64 token_pull(U8 *cmd, U8 *out, U8 delim = ' ') {
  I64 i;

  "cmd : %s\n", cmd;
  "cmd before %d\n", cmd;
  for (i=0;*cmd != '\0' && *cmd != delim; cmd++) {
    out[i] = cmd[0];
    "%c", cmd[0];
    i++;
  };
  "\n";
  "cmd after  %d\n\n", cmd;

  return cmd;
}


"cc->token_count :%d\n", cc->token_count;
"cc->flag_count :%d\n", cc->flag_count;
"cc->size :%d\n", cc->size;
U8 tokens[cc->token_count][cc->size];
U8 flags[cc->flag_count][cc->size];

"All tokens :%d\n\n", at;
for (i=0; i < at; i++) {
  token_trim(cmd,,TRUE);   
  if (cmd[0] == '-') {
    "fi : %d\n", fi;
    cmd = token_pull(cmd, &flags[fi]); fi++;
  }
  else {
    "ti : %d\n", ti;
    cmd = token_pull(cmd, &tokens[ti]); ti++;
  }
}

// List all the tokens.
for (i=0; i < tc; i++) {
  "tokens[%d] : %s\n", i, tokens[i];
}
"\n";
// List all the flags.
for (i=0; i < fc; i++) {
  "flags[%d] : %s\n", i, flags[i];
}

Output:
cmd: ls -a b c

cc->token_count : 3
cc->flag_count : 1
cc->size : 2
All tokens : 4

ti : 0
cmd : ls -a b c
cmd before 819438096
ls
cmd after  819438098

fi : 0
cmd : -a b c
cmd before 819438098
-a
cmd after  819438100

ti : 1
cmd : b c
cmd before 819438100
b
cmd after  819438101

ti : 2
cmd : c
cmd before 819438101
c
cmd after  819438102

tokens[0] : -bc
tokens[1] : bc
tokens[2] : c

flags[0] : -bc
